const r=[2,0,-12246467991473532e-32,-12246467991473532e-32,0,-2,0,1,0];const c=[.5,-3061616997868383e-32,0,0,0,1,-3061616997868383e-32,-.5,0];const tilescale=1;const mapzoomout=6;function fromLocationToLatLng(a,t,o){var n=r[3]*a.x+r[4]*a.y+r[5]*a.z+248,e=r[0]*a.x+r[1]*a.y+r[2]*a.z+4;return new L.LatLng(-(((128<<t)-n)/(1<<o)),e/(1<<o),a.y)}function fromLatLngToLocation(a,t,o,n){var e=(128<<o)+a.lat*(1<<n),r=a.lng*(1<<n),s=c[0]*r+c[1]*e+c[2]*t-2,i=c[6]*r+c[7]*e+c[8]*t+124;return{x:s,y:t,z:i}}const a=fromLocationToLatLng({x:2725,y:64,z:4153},tilescale,mapzoomout);const map=L.map("map",{crs:L.CRS.Simple,zoom:6,attributionControl:false}).setView([0,0]).flyTo([a.lat,a.lng],6);const t=fromLocationToLatLng({x:6e3,y:64,z:6e3},tilescale,mapzoomout);var s=L.tileLayer("../images/Leaflet Maps/Redmont/{z}/{x}/{y}.png",{minZoom:2,maxZoom:7,bounds:[[0,0],[t.lat,t.lng]],noWrap:true,unloadInvisibleTiles:true,reuseTiles:true}).addTo(map);async function getHeatmapData(){var a=await $.ajax({url:"data/heatmaps/Chestshop Heatmap.txt",dataType:"json"});return a.map(a=>{const t=fromLocationToLatLng({x:a[0],y:64,z:a[1]},tilescale,mapzoomout);return[t.lat,t.lng,.01]})}(async function(){const a=await getHeatmapData();var t=L.heatLayer(a,{minOpacity:.05,max:.5,radius:20});var o={"<img src='images/icons/logo.jpg' width = 25 />":s};var n={"<font size='+1'>Heatmaps</font>":{"<img src='images/icons/block_world_heat.svg' width = 25 />":t}};L.control.groupedLayers(o,n,{collapsed:false}).addTo(map)})();